今年是很有意义的一年，如果用一个成语来描述，那就是“柳暗花明”吧，柳暗花渐明，用来形容自己这一年的心态转变，从沮丧到逐渐振奋。尤其是越到年尾越明显... 在此做个记录。

#### 关于工作

工作上，除了一些日常的需求外，就是去做技术优化，确实比较少了，一个是 webapck 的优化：

项目开始用的webpack3，一期只在 3上做了优化，其实也是学习webpack的过程，从开始耗时测量，分析包，学习 code spliting，以及使用一些常用的优化手段，实际上线loader和plugin使用的时间缩减了40.8%，gzip小了33.3%；二期是将webpack升级到4，并将babel 从6升到7，以此了解到一些 babel 相关的知识，此外还有 tree-shaking 的魅力， 实际上线后loader plugin时间缩减52.5%，gzip 减小13.4%，这里耗时的差距主要还是node版本的升级，非常明显的加快了编译速度；

二期优化后，读到一篇关于 [sourcemap](https://mp.weixin.qq.com/s/QXjBiPUYdDitUBGaAUUBMg) 的文章，开发环境将 sourcemap 修改为 eval-cheap-source-map，测试单个文件 rebuild 时间缩减80%。。

这之后，另一个同事在此基础上做了 lodash 的按需加载，将lodash 从 vendor（三方库打包后的文件）里提取出来，结果是vendor变小了，部分文件变大了，有一些原因是 minChunks 配置的是3，部分方法是会重复打包的，但总gzip没有太大变化，所以好处是加载vendor时会快一些些，多了一个babel插件，一个webpack插件，install的时间提升一些些，加上包分析的时间，是体积和耗时的权衡。

最近看了另一篇[文章](https://juejin.cn/post/6901466994478940168)，针对于项目的优化还可以做些事情，在此记个todo。

一个是文档的离线存储，在网络或服务器异常的时候，使用indexedDB进行缓存，防止用户内容丢失。这里包括网络异常检测，服务异常时对几个轮询的接口降频请求，API 封装等。

关于项目其他重要的点：

1、下半年组内推进了数据打点，包括性能打点和业务打点。性能打点主要封装了Performance Timing API 进行性能方面的数据上报，tcp，dns基本为0（内部系统），整个页面从navigationStart 到 loadEventEnd (开始到首屏渲染完成)大概在两秒左右，业务打点是在一些重要的渲染环节上增加 performance.mark，也发现了一些问题，组内进行了优化，同时由于页面在内容较多计算量较大时会有卡顿，方案评审时提出 Intersection Observer API 代替scroll做懒加载，这里的问题是，当内容已渲染出来而不停止监听时，内容在非可视区域会被移除，同事认为这样是合理的，页面上DOM越少也好，但是通过 performance monitor 检测到这样上下滑动页面 DOM Nodes 持续增加，表示页面真实DOM数和内存里DOM变多了，所以是否需要停止监听是一个值得再思考的问题，因为监听器本身也在消耗资源。

2、一个pdf导出项目进行了静态资源路径替换，因此访问资源时实际上请求的都是本地的，看到这个后发现还可以这样做啊。

3、项目上依然存在一些反复出现的异常case，会是明年核心要优化的内容

4……

其他方面：

慢慢的也可以理解和接纳需求变动。

> 现实和梦想总是存在这种割裂式的差异，开发者与需求方之间经常存在一种对立的格局。
对于一个团队来说，这显然是一种不好的信号——如果开发者象征着技术架构，需求方象征着业务架构，那么当这两种架构产生了矛盾，且每次只能通过相互妥协或者一方不断让步才能调和的话，整个项目只会通往一条泥泞不堪、充满陷阱的道路。<br/>
> 要知道，世界上没有一劳永逸的技术方案，也没有一成不变的业务可以取得成功。<br/>
> 理想状态下，业务应当驱使着技术的进步，同时技术的进步也促使业务有更多的可能，二者应当呈现为一种相辅相成并充满活力的状态

除了这些想要记录的，还有一个就是每周的推荐阅读，到目前为止，从18期到46期连载了28期，主要是一个日常阅读分享，每周一整理出来发布到内部论坛（然后美其名曰: 技术周刊），然后基本每周一都走的很晚... 不过确实普及了不少知识。

还有一个是推进组内的技术分享，负责整理 topic 和督促... 基本在每周四或周五，topic 主要分为几个系列，目前设计模式比较多些，其他的还比较散，现在的一个问题是大家参与度都不怎么够，气氛不怎么活跃，这样的分享还是缺少一些灵魂的。。 最近部门组织变动了，大leader和中leader换了，有些人蠢蠢欲动，把技术分享给搞到中群里了，俺觉得俺应该可以派上用场的...

再其他：

1、多看同事的 commit ，这个好处更不用多说了，目前组内提 mr 还是挺积极的，还是要加强关注

2、记得好早前有次聚餐，一个产品大哥（已离职）说我很腼腆... 俺老脸一红啊... 想起还给某人吹过牛，说俺脸皮厚了... 不过到目前为止，脸皮比之前终于是厚了些，但俺觉得还可以再厚些啊

<img class="md-img" src="https://pic1.zhimg.com/80/v2-93e7e34c0560c059033a8e7dc6358100_1440w.webp" width="300">

#### 关于学习

今年的学习可谓是乱，杂，即使是努力对推荐阅读进行归类，笔记尽量整理，但确实还是很杂乱。。大概是心乱吧。什么都想抓一口，什么都抓不住... 那今年都干了些什么呢...

1、5月份报了个班，惭愧，到现在课没看到 1/8... 当时整理的一些笔记

[Kite Runner：模块化学习](https://zhuanlan.zhihu.com/p/139379663)

[Kite Runner：ES学习笔记](https://zhuanlan.zhihu.com/p/142199286)

2、团队内做过四次分享，又做了些修改和拓展发布到外网

[Kite Runner：css 变量学习与实践](https://zhuanlan.zhihu.com/p/165081068)

[Kite Runner：前端异常捕获与上报 - Sentry](https://zhuanlan.zhihu.com/p/205144885)

[Kite Runner：设计模式学习（一）观察者模式](https://mini-orange.cn/article/760346812)

[Kite Runner：基于vue的撤销重做](https://zhuanlan.zhihu.com/p/144517483)

3、做了两个技术优化的一些总结

[Kite Runner：webpack打包优化效果可视化](https://zhuanlan.zhihu.com/p/146189634)

[Kite Runner：webpack4+babel7 升级与优化](https://zhuanlan.zhihu.com/p/147921691)

[Kite Runner：webpack 学习笔记](https://zhuanlan.zhihu.com/p/193078460)

[Kite Runner：IndexedDB 离线存储实践总结](https://mini-orange.cn/article/430195572)

4、学了一些 vue 的源码，写了一篇，差点火候

[Kite Runner：实现一个简单vue（一）响应式原理](https://mini-orange.cn/article/410071994)

5、其他文章

[Kite Runner：函数防抖与节流](https://zhuanlan.zhihu.com/p/163547151)

[Kite Runner：手写call apply bind 函数系列](https://zhuanlan.zhihu.com/p/158634772)

... 一些在语雀记录的

记得之前看过一段话：

> 关于写博客，在我的理解应该是这样被产出的：找到一个你感兴趣的话题，从问题的起因到代码实现最优解，视图把这个问题讲明白，讲明白的标准可以以说服自己为准，并记录过程。
所以，后面可尝试向这种方式靠近。

6、跟着大圣走了一遍 vue3 训练营，学习了 vite，vue3 的响应式

7、跟着方方造轮子，vue2 和 3 基本三四个，了解到测试，自动化部署等一些其他的知识，顺带着看过一部分vue3 的文档

8、有段时间刷了部分阮一峰的博客（[js系列](https://www.ruanyifeng.com/blog/javascript/)），有的忘的差不多了

9、大概看了下阮一峰的 ssh 教程

10、每周一也不是无故下班晚... 因为要保证文章质量，还是要瞅一瞅，感觉杂 也是因为这里的太散碎，质量参差不齐

11、为了有深度些，看了一丢丢 vue 源码，染陌同学 vue 原理剖析小册，还看了一丢丢 vuex 的源码，跟着另一篇文章了解状态管理的发展，一丢丢 axios，主要是为了这篇[文章](https://mp.weixin.qq.com/s/LzfiCas1SA0L4gJH9Oor_A)，一丢丢 webpack，跟着止水的课和其他的文章了解的

12、组内推荐阅读内最近这几期开始追加阮一峰老师的[周刊](https://www.ruanyifeng.com/blog/weekly/)了，还挺有意思的

13、...

存在的问题：

1、本来觉得今年啥也没做成，现在一看好像还行（毕竟一年的时间也很长），只是有些东西不够体系，疏于练习，遗忘也太快，常常感觉反应慢

2、源码理解的都不是很到位，有时候也说不出个所以然，不太好意思说，但俺确实瞅了瞅... 希望不止于表面，注重理解背景而不仅于使用，就像 vue 的 beforeCreated 为什么无法调用method等，先computed还是先watch，如何进行差量更新（diff）和批量更新（nextTick），有些东西可能要看好几遍...

3、过于僵硬，无论是学习或是记忆，或许可以赋予知识灵力，抽象于现实生活中，比如 ts 的抽象类可以想象为爸爸类，教孩子做事情，但自己不需要做，或是因为没有写完，所以不能被实例化（出自方方），官网上的描述是：抽象类做为其它派生类的基类使用。...

4、注重从实际项目理解和反思，分清利弊，方案有很多，如何去做选择等。 比如能不使用mixins，bus 就不用；懒加载常规监听scroll 和 Intersection Observer 的对比...

#### 关于 FE Committee 小组

六月份心血来潮组了个学习小组，也实在是因为自己行动力太差了，懒字头上一把刀啊（上面说的很多内容基本上都是下半年的...）, 认识到自己是不适合闭关学习的，认识到交流的重要性。现在看来，这个小组对我意义还是很大的。起初强制每周推荐阅读和每月博客，时间久了，人不免会有些疲倦和懈怠，后面加了周日的交流会（茶话会），会讲讲自己看的内容，聊聊天等... 疏于运维，也没有对外提过几次，半年了人来人往目前10个人，觉得也还行。

<img class="md-img" src="https://pic3.zhimg.com/80/v2-95b660ea0bb2f3ecc448568a19cff9f6_1440w.webp" width="550"/>

不知道读到这里的你会不会感兴趣呢~

#### 关于生活

年中瘦了下来然后现在又慢慢胖了起来，和去年年终胖了10斤相比，今年浮动稍小些...，意识到确实需要健身了啊... 俺还是个妙龄女子啊（腆着老脸），身材管理很重要啊 ...

感觉亏待了猫猫，都没有变胖，最近买肉的频率变高了，搜集了好吃的猫粮先买了试用装，2021的目标之一就是让猫猫快快胖起来。

今年仅完整读了一本书《稻盛和夫的一生嘱托》 ，记住了老先生提到的有效的修行。最近开始在读《向前一步》，关于女性。圣诞节买了一本《富爸爸 穷爸爸》当做礼物，看的多的还是一些公众号推送的散碎的内容。也有买了其他的书，匆匆翻了翻。技术上的翻了几章《代码大全》，和大圣老师比起来，菜真的有道理的。翻到在18年的某篇日记里提到希望书可以成为朋友，还是要多联络加深下感情... 影视类的偏于喜剧和古装武侠，还有一些悬疑类及民国剧场。

今年疫情没有太多的旅行，没出去过几次，通常是宅着或是去附近商场。

#### 关于2021

24了，本命年，买了个红玛瑙手串，也希望一切顺利。

<img class="md-img" src="https://pic3.zhimg.com/80/v2-1b9004b7e842d7b9c815cbebf60becb2_1440w.webp" width="200"/>

多读书吧。锻炼身体。努力工作。好好学习。

#### 关于其他

下半年状态持续变好（时间上还是要再往后些3、4个月，第四个季度吧），尤其是在11月后，去年这个时候的日子是很黑暗的。坦白讲，自从开始学习编程，我的生活就开始过的不开心了，之前的日记里大多是焦虑 恐慌的字眼，许是起初那丁点的兴趣一直维系到现在。

看到过有一句话：

> 请你一定要相信这个世界所有的光与热。那样的你即便会被黑暗击倒，但心里的光与热会赐予你扶起自己的力量。 <br/>
> 请你也一定要守住心里那份光与热，那样的你即便会被乌云笼罩，但身体里会拥有一把利剑，不需期盼乌云的散去，它们早晚会被你刺穿。"
相信相信的力量。

此外，一直很喜欢的一句话：

> Keep clam and carry on.

源于二战时期的一张海报，是英国制作的，如果纳粹真的占领了英国，就计划发放海报用以鼓舞群众士气。

> 《经济学人》认为这一怀旧海报反映了典型的英国性格，其流行原因在于它直接反映了国民所设想中的英国人形象：低调、勇敢而略显刻板，能在轰炸中照常煮茶的性格。

<img class="md-img" src="https://pic3.zhimg.com/80/v2-a8c0e94952d489d2302ccf2403f812f2_1440w.webp" width="300"/>

还有一句在迷茫时提醒自己，简单而专注些

> Choose a direction, set a time, and the rest is just hard work and persistence.

源于呆呆博客上看到的。

另外还有一句很有能量的话：

> Fake it till you make it.

源于和奔奔聊天时她提到的。

………

柳暗花渐明，日子会慢慢好起来de...

记得有那么几次，早晨醒来心情很不好，有些难过，很不想去上班。我慢慢起身坐在椅子上，阳光透过窗户照在我的身上，我闭着眼睛，放空了几分钟，再睁开眼时，感觉好像也没有那么糟糕。

2020.END

<img class="md-img" src="https://pic2.zhimg.com/80/v2-0b6c30a76b34ceb940a4a82611b22e61_1440w.webp" width="400"/>


id:370092358,
createTime:"1609053745998",
updateTime:"1609134400211",
desc: '2020 END.'
